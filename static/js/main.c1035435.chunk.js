(this["webpackJsonpdoctor-project"]=this["webpackJsonpdoctor-project"]||[]).push([[0],{203:function(e,t,a){e.exports=a(349)},208:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(46),r=a.n(o),s=(a(208),a(21)),c=a(22),l=a(24),m=a(23),u=a(25),d=a(65),h=a(40),g=a(363),p=a(59),b=a(364),v=a(365),E=a(358),f=a(361),y=a(357),k=a(360),w=a(19),S=a.n(w);a(49);function x(e){e?S.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete S.a.defaults.headers.common.Authorization}function C(){localStorage.removeItem("accessToken"),window.location.href="/"}var N="https://icem-2020.herokuapp.com",j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).login=function(e){e.preventDefault(),console.log("entering login state."),a.setState({loading:!0}),S.a.post(N+"/login",a.state).then((function(e){var t=e.data.token;localStorage.setItem("accessToken",t),x(t),a.setState({loading:!1}),a.checkLogin()})).catch((function(e){a.setState({loading:!1,wrong:!0})}))},a.register=function(e){e.preventDefault(),console.log("registering"),a.setState({loading:!0}),S.a.post(N+"/register?team="+a.state.username,{name:a.state.name,university:a.state.university}).then((function(e){console.log(e),a.setState({newUser:!1,loading:!1})})).catch((function(e){console.log("register error!"),console.log(e),a.setState({loading:!1})}))},a.state={username:"",password:"",name:"",university:"",loading:!1,wrong:!1,newUser:!1,redirect:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title="ICEM 2020",localStorage.accessToken&&this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;this.setState({loading:!0}),S.a.get(N+"/users/profile").then((function(t){""===t.data.team_name&&""===t.data.university?e.setState({username:t.data.id,loading:!1,newUser:!0}):e.setState({redirect:"/lobby"})}))}},{key:"render",value:function(){var e=this;return this.state.redirect?i.a.createElement(h.a,{to:this.state.redirect}):i.a.createElement("div",{className:"App"},this.state.newUser?i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"header"},i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"pencil alternate"}),"REGISTER",i.a.createElement(g.a.Subheader,{className:"white-txt"},"Edit your information"))),i.a.createElement(b.a,{placeholder:!0},i.a.createElement(v.a,{relaxed:"very",stackable:!0},i.a.createElement(v.a.Column,null,i.a.createElement(E.a,{onSubmit:this.register,loading:this.state.loading},i.a.createElement(E.a.Input,{icon:"user md",iconPosition:"left",label:"Username",value:this.state.username,readOnly:!0}),i.a.createElement(E.a.Input,{type:"text",icon:"edit",iconPosition:"left",label:"Team name",placeholder:"Team name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),i.a.createElement(E.a.Input,{type:"text",icon:"building",iconPosition:"left",label:"University",placeholder:"University",value:this.state.university,onChange:function(t){return e.setState({university:t.target.value})}}),i.a.createElement(f.a,{type:"submit",content:"Continue",disabled:this.state.loading,primary:!0}),i.a.createElement(y.a,null),i.a.createElement(f.a,{type:"submit",content:"Sign out",disabled:this.state.loading,onClick:C,color:"red"})))))):i.a.createElement("header",{id:"login",className:"App-header"},i.a.createElement("div",null,i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"heartbeat"}),"ICEM 2020",i.a.createElement(g.a.Subheader,{className:"white-txt"},"Sign in to start your challenge"))),i.a.createElement(E.a,{error:this.state.wrong},i.a.createElement(k.a,{error:!0,onDismiss:function(t){return e.setState({wrong:!1})},header:"Please try again!",content:"Invalid Username or Password"})),i.a.createElement(b.a,{placeholder:!0},i.a.createElement(v.a,{relaxed:"very",stackable:!0},i.a.createElement(v.a.Column,null,i.a.createElement(E.a,{error:!0,onSubmit:this.login,loading:this.state.loading},i.a.createElement(E.a.Input,{type:"text",icon:"user md",iconPosition:"left",label:"Username",placeholder:"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),i.a.createElement(E.a.Input,{type:"password",icon:"lock",iconPosition:"left",label:"Password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),i.a.createElement(f.a,{type:"submit",content:"Sign in",disabled:this.state.loading,color:"green"}))))),i.a.createElement(f.a,{color:"blue",onClick:function(t){return e.setState({redirect:"/whiteboard"})},disabled:this.state.loading,content:this.state.loading?"Loading...":"Whiteboard"})))}}]),t}(n.Component),O=a(84),I="https://icem-2020.herokuapp.com",z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).login=function(e){e.preventDefault(),console.log("entering login state."),a.setState({loading:!0}),S.a.post(I+"/login",a.state).then((function(e){var t=e.data.token;localStorage.setItem("accessToken",t),x(t),a.setState({loading:!1}),a.checkLogin()})).catch((function(e){a.setState({loading:!1}),a.setState({wrong:!0})}))},a.register=function(e){e.preventDefault(),a.setState({loading:!0}),console.log("registering"),S.a.post(I+"/register?team="+a.state.username,{name:a.state.name,university:a.state.university}).then((function(e){a.setState({redirect:"/lobby"})})).catch((function(e){console.log("register error!"),console.log(e),a.setState({loading:!1})}))},a.logout=function(e){localStorage.removeItem("accessToken"),a.setState({loading:!0}),a.setState({redirect:"/"})},a.state={username:"",name:"",university:"",loading:!1},a.checkLogin=a.checkLogin.bind(Object(O.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title="ICEM2020 - Register",localStorage.accessToken&&this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;this.setState({loading:!0}),S.a.get(I+"/users/profile").then((function(t){console.log(t),e.setState({username:t.data.id}),e.setState({loading:!1})})).catch((function(e){console.log("New user detected!")}))}},{key:"render",value:function(){var e=this;return this.state.redirect?i.a.createElement(h.a,{to:this.state.redirect}):i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"header"},i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"pencil alternate"}),"REGISTER",i.a.createElement(g.a.Subheader,{className:"white-txt"},"Edit your information"))),i.a.createElement(b.a,{placeholder:!0},i.a.createElement(v.a,{relaxed:"very",stackable:!0},i.a.createElement(v.a.Column,null,i.a.createElement(E.a,{onSubmit:this.register,loading:this.state.loading},i.a.createElement(E.a.Input,{icon:"user md",iconPosition:"left",label:"Username",value:this.state.username,readOnly:!0}),i.a.createElement(E.a.Input,{type:"text",icon:"edit",iconPosition:"left",label:"Team name",placeholder:"Team name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),i.a.createElement(E.a.Input,{type:"text",icon:"building",iconPosition:"left",label:"University",placeholder:"University",value:this.state.university,onChange:function(t){return e.setState({university:t.target.value})}}),i.a.createElement(f.a,{type:"submit",content:"Continue",disabled:this.state.loading,primary:!0}),i.a.createElement(y.a,null),i.a.createElement(f.a,{type:"submit",content:"Sign out",disabled:this.state.loading,onClick:this.logout,color:"red"})))))))}}]),t}(n.Component),A=a(362),_="https://icem-2020.herokuapp.com",U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleX2=function(e){a.setState((function(e){return{x2:!e.x2}}))},a.handleX3=function(e){a.setState((function(e){return{x3:!e.x3}}))},a.Ready=function(e){a.setState({loading:!0}),window.location.href="/Whiteboard"},a.state={username:"",team_name:"",university:"",x2:!1,x3:!1,loading:!0,lobby:!1,score:"",white_board:"",start_time:"",count_time:"",timeout:"",exam:"",round:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title="ICEM 2020 - Lobby",localStorage.accessToken?this.checkLogin():(console.log("Token not found!"),window.location.href="/")}},{key:"checkLogin",value:function(){var e=this;this.setState({loading:!0}),S.a.get(_+"/users/profile").then((function(t){console.log("user detected!"),e.setState({username:t.data.id,team_name:t.data.team_name,university:t.data.university}),e.getData()}))}},{key:"getData",value:function(){var e=this;this.setState({loading:!0}),S.a.get(_+"/game/session/data").then((function(t){console.log(t),null===t.data.round?console.log("round not found!"):"true"===t.data.white_board&&null!=t.data.round?e.setState({lobby:!0,loading:!1}):(e.setState({white_board:t.data.white_board,start_time:t.data.start_time,count_time:t.data.count_time,timeout:t.data.timeout,exam:t.data.exam,round:t.data.round,loading:!1}),e.getScore())})).catch((function(e){console.log(e)}))}},{key:"getScore",value:function(){var e=this;S.a.get(_+"/users/score/"+this.state.round).then((function(t){e.setState({score:t.data.total_score,loading:!1})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},this.state.loading?i.a.createElement("header",{className:"App-header"},i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},"Waiting for session...")):i.a.createElement("div",null,this.state.lobby?i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"header"},i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"heartbeat"}),this.state.round.toUpperCase()+" ROUND",i.a.createElement(g.a.Subheader,{className:"white-txt"},this.state.university+" @ ICEM 2020"),i.a.createElement(g.a.Subheader,{className:"white-txt"},"Score: "+this.state.score))),i.a.createElement(b.a,{placeholder:!0,className:"lobby-size",loading:this.state.loading},i.a.createElement(v.a,{columns:2,relaxed:"very",stackable:!0},i.a.createElement(v.a.Column,null,i.a.createElement(g.a,{icon:!0},"X2",i.a.createElement(p.a,{disabled:this.state.x3,onClick:this.handleX2,name:this.state.x2?"toggle on":"toggle off",color:this.state.x2?"green":"black"}),this.state.x2?"Enable":"Disable")),i.a.createElement(v.a.Column,{verticalAlign:"middle"},i.a.createElement(g.a,{icon:!0},"X3",i.a.createElement(p.a,{disabled:this.state.x2,onClick:this.handleX3,name:this.state.x3?"toggle on":"toggle off",color:this.state.x3?"green":"black"}),this.state.x3?"Enable":"Disable"))),i.a.createElement(y.a,{vertical:!0},"Or")),i.a.createElement("br",null),i.a.createElement(f.a,{color:"green",size:"massive",onClick:this.Submit,disabled:this.state.loading,content:this.state.loading?"Waiting...":"Continue"})):i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"header"},i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"heartbeat"}),"ICEM 2020",i.a.createElement(g.a.Subheader,{className:"white-txt"},"University: "+this.state.university))),i.a.createElement(A.a,{inverted:!0},i.a.createElement(A.a.Label,{color:"white"},"Score"),i.a.createElement(A.a.Value,{color:"red"},this.state.score)))))}}]),t}(n.Component),L=a(191);a(190);function R(){var e,t=!0;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!1),t}var T=R(),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={loading:!1,brushRadius:5,lazyRadius:0,activeItem:"black"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title="ICEM 2020 - Whiteboard"}},{key:"checkLogin",value:function(){var e=this;this.setState({loading:!0}),S.a.get("https://icem-2020.herokuapp.com/users/profile").then((function(t){e.setState({username:t.data.id,team_name:t.data.team_name,university:t.data.university,loading:!1})}))}},{key:"submit",value:function(){}},{key:"render",value:function(){var e=this;return this.state.redirect?i.a.createElement(h.a,{to:this.state.redirect}):i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{id:"header"},i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},"Time Left: 90 sec",i.a.createElement(g.a.Subheader,{className:"white-txt"},this.state.university+" @ ICEM 2020"),i.a.createElement(g.a.Subheader,{className:"white-txt"},"Use your ",T?"finger":"mouse"," to draw version 2"))),i.a.createElement("div",{className:"whiteboard-size"},i.a.createElement(L.a,{ref:function(t){return e.Canvas=t},className:"whiteboard-size",lazyRadius:this.state.lazyRadius,brushColor:this.state.activeColor,brushRadius:this.state.brushRadius})),i.a.createElement("div",{id:"footer"},i.a.createElement(f.a,{color:"green",size:"massive",onClick:this.Submit,disabled:this.state.loading,content:this.state.loading?"Loading...":"Submit"}),i.a.createElement(f.a,{size:"big",color:"red",onClick:function(){e.Canvas.clear()}},"Clear"),i.a.createElement(f.a,{size:"big",color:"blue",onClick:function(){e.Canvas.undo()}},"Undo"))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",null,i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"bug"}),"ADMIN",i.a.createElement(g.a.Subheader,{className:"white-txt"},"ICEM 2020")))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",null,i.a.createElement(g.a,{as:"h1",icon:!0,className:"white-txt"},i.a.createElement(p.a,{name:"stethoscope"}),"REFEREE",i.a.createElement(g.a.Subheader,{className:"white-txt"},"ICEM 2020")))))}}]),t}(n.Component),W=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(d.a,{basename:"/icem-2020"},i.a.createElement(h.d,null,i.a.createElement(h.b,{exact:!0,path:"/",component:j}),i.a.createElement(h.b,{path:"/Register",component:z}),i.a.createElement(h.b,{path:"/Lobby",component:U}),i.a.createElement(h.b,{path:"/Whiteboard",component:D}),i.a.createElement(h.b,{path:"/Admin",component:M}),i.a.createElement(h.b,{path:"/Ref",component:P})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));x(localStorage.accessToken),r.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,a){}},[[203,1,2]]]);
//# sourceMappingURL=main.c1035435.chunk.js.map